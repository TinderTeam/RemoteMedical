<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">


<struts>
<constant name="struts.ui.theme" value="simple" />
<constant name="struts.enable.DynamicMethodInvocation" value="true"/>
<constant name="struts.ui.templateDir" value="template" />
<constant  name="struts.custom.i18n.resources" value="package"></constant>   

<constant name="struts.ui.templateSuffix" value="ftl" />
<constant name="struts.i18n.encoding" value="UTF-8" />    
 <package name="misp" namespace="/" extends="struts-default" abstract="true">
 
         <global-results>
            <result name="misp-done">/client/misp/common/mispDone.jsp</result>
 
         </global-results>
 </package>
        
    <package name="default" namespace="/" extends="misp">
        
        <global-results>
            <result name="exception-system">/client/platform/common/systemError.jsp</result>
 
            <result name="exception-service">/client/platform/common/operateError.jsp</result>
        </global-results>
             
        <global-exception-mappings>
            <exception-mapping result="exception-system" exception="cn.fuego.misp.service.exception.ServiceException"></exception-mapping>
            
            <exception-mapping result="exception-service" exception="cn.fuego.misp.service.exception.ServiceException"></exception-mapping>
        </global-exception-mappings>    
    </package>
    
	<package name="login" extends="default">
		<action name="login" class="cn.fuego.misp.web.action.login.LoginAction">
			<result type="redirect">/client/misp/dwzFrameIndex.jsp</result>
			<result type="chain" name="Index">
			  <param name="actionName">ReportManage</param>
            </result>    
			
			<result type="dispatcher" name="LoginFailed">/client/misp/login.jsp</result>		    
		</action>
 
 	</package>
 	
 	    
	<package name="log" extends="default">
		<action name="LogManage" class="cn.fuego.misp.web.action.log.LogManageAction">
			<result>/client/misp/log/logManage.jsp</result>
 
 		</action>
 
 	</package>
 	
 	<package name="expert" extends="default">
  
   		<action name="ReportManage" class="cn.fuego.remote.medical.expert.web.action.report.ReportManageAction">
			<result type="dispatcher">/client/expert/patientList.jsp</result>
 			
			<result type="dispatcher" name="showInfo">/client/expert/patientInfo.jsp</result>		    
		</action>
       	<action name="DownloadImage" class="cn.fuego.remote.medical.expert.web.action.download.DownloadImageAction">
				<result type="stream">
 				   <param name="contentType">application/octet-stream</param>
 				   <param name="contentDisposition">attachment;filename="test.pdf"</param>
 				   
 				   <param name="inputName">imageStream</param>
			   </result>
		</action>
 	</package>
 	
 
</struts>

